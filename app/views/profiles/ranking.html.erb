<div class="ranking-container">

  <div class="competition-summary">
    <div class="leader">🥇 Leader: <strong><%= @users.first.email %></strong> - <%= @users.first.reviews.count %> Tasks</div>
    <div class="your-score">You: <strong><%= current_user.reviews.count %></strong> Tasks</div>
    <div class="days-left">⏳ 43 days remaining</div>
  </div>

    <!-- Title OUTSIDE the table -->
  <div class="table-title"> Recipes Ranking</div>


  <table>
    <thead>
      <!-- Column Headers -->
      <tr>
        <th>rank</th>
        <th>user</th>
        <th>recipes</th>
      </tr>
    </thead>

    <tbody>
      <% @users.each_with_index do |user, index| %>
        <% rank_class = case index
          when 0 then "first-place"
          when 1 then "second-place"
          when 2 then "third-place"
          else ""
        end %>
        <tr class="<%= rank_class %>">
          <td class="rank">
            <% if index == 0 %>🥇<% elsif index == 1 %>🥈<% elsif index == 2 %>🥉<% else %><%= index + 1 %><% end %>
          </td>
          <td class="user-info">
            <div class="avatar">
              <%= image_tag(user.avatar || "avatar01.svg", alt: "User Avatar") %>
            </div>
            <span class="user-email"><%= user.email %></span>
          </td>
          <td><%= user.reviews.count %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

</div>
